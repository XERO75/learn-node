{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","Filter","searchValue","handleChange","value","onChange","PersonForm","handleSubmit","nameValue","numValue","nameChange","numChange","onSubmit","type","Persons","map","person","name","number","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchValue","personToShow","setPersonToShow","useEffect","phoneService","res","event","target","filter","toLowerCase","ev","preventDefault","newPerson","id","Date","findIndex","item","alert","console","log","concat","JSON","parse","stringify","ReactDOM","render","document","getElementById"],"mappings":"qLACMA,EAAU,MAiBD,EAfA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCPrCG,EAAS,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aAC7B,OACE,8BACE,uDACqB,uBAAOC,MAAOF,EAAaG,SAAUF,UAM1DG,EAAa,SAAC,GAMb,IALLC,EAKI,EALJA,aACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,SACAC,EAEI,EAFJA,WACAC,EACI,EADJA,UAEA,OACE,8BACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOH,MAAOI,EAAWH,SAAUK,IACzC,uBAFF,WAGU,uBAAON,MAAOK,EAAUJ,SAAUM,OAE5C,8BACE,wBAAQE,KAAK,SAAb,yBAOJC,EAAU,SAAC,GAAe,IAAbV,EAAY,EAAZA,MACjB,OACE,8BACE,6BACGA,EAAMW,KAAI,SAACC,GACV,OACE,+BACGA,EAAOC,KADV,IACiBD,EAAOE,SADfF,EAAOC,cAsFbE,EA5EH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETG,EAFS,KAEAC,EAFA,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAIsBN,mBAAS,IAJ/B,mBAITlB,EAJS,KAIIyB,EAJJ,OAKwBP,mBAASC,GALjC,mBAKTO,EALS,KAKKC,EALL,KAchBC,qBAPa,WACXC,IAAsBnC,MAAK,SAACoC,GAC1BH,EAAgBG,EAAIX,SACpBC,EAAWU,EAAIX,cAIH,IA0ChB,OACE,gCACE,2CACA,cAAC,EAAD,CAAQjB,MAAOF,EAAaC,aAjBN,SAAC8B,GACzBN,EAAeM,EAAMC,OAAO9B,OACxB6B,EAAMC,OAAO9B,MACfyB,EACER,EAAQc,QACN,SAACnB,GAAD,OACEiB,EAAMC,OAAO9B,MAAMgC,gBAAkBpB,EAAOC,KAAKmB,kBAIvDP,EAAgBR,MAShB,2CACA,cAAC,EAAD,CACEd,aA/CW,SAAC8B,GAChBA,EAAGC,iBACH,IAAMC,EAAY,CAChBtB,KAAMM,EACNL,OAAQO,EACRe,GAAI,IAAIC,MAEIpB,EAAQqB,WAAU,SAACC,GAAD,OAAUA,EAAK1B,OAASM,MACzC,EACbqB,MAAM,GAAD,OAAIrB,EAAJ,oCAGPQ,EAAoBQ,GAAW3C,MAAK,SAAAC,GAClCgD,QAAQC,IAAIjD,MAEdyB,EAAWD,EAAQ0B,OAAOR,IAC1BV,EAAgBmB,KAAKC,MAAMD,KAAKE,UAAU7B,EAAQ0B,OAAOR,MACzDf,EAAW,IACXE,EAAa,MA8BTlB,UAAWe,EACXd,SAAUgB,EACVf,WA9BmB,SAACuB,GACxBT,EAAWS,EAAMC,OAAO9B,QA8BpBO,UA5BqB,SAACsB,GAC1BP,EAAaO,EAAMC,OAAO9B,UA8BxB,yCACA,cAAC,EAAD,CAASA,MAAOwB,Q,MCtHtBuB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.06d94cfc.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/db'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n//eslint-disable-next-line\nexport default { getAll, create, update }","import React, { useState, useEffect } from 'react';\nimport phoneService from './services/persons'\n\nconst Filter = ({ searchValue, handleChange }) => {\n  return (\n    <div>\n      <form>\n        filter shown with: <input value={searchValue} onChange={handleChange} />\n      </form>\n    </div>\n  );\n};\n\nconst PersonForm = ({\n  handleSubmit,\n  nameValue,\n  numValue,\n  nameChange,\n  numChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={nameValue} onChange={nameChange} />\n          <br></br>\n          number: <input value={numValue} onChange={numChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Persons = ({ value }) => {\n  return (\n    <div>\n      <ul>\n        {value.map((person) => {\n          return (\n            <li key={person.name}>\n              {person.name} {person.number}\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [personToShow, setPersonToShow] = useState(persons);\n\n  const hook = () => {\n    phoneService.getAll().then((res) => {\n      setPersonToShow(res.persons);\n      setPersons(res.persons);\n    });\n  };\n\n  useEffect(hook, []);\n\n  const onSubmit = (ev) => {\n    ev.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n      id: new Date()\n    };\n    let findIdx = persons.findIndex((item) => item.name === newName);\n    if (findIdx >= 0) {\n      alert(`${newName} is already added to phonebook`);\n      return;\n    }\n    phoneService.create(newPerson).then(response => {\n      console.log(response)\n    })\n    setPersons(persons.concat(newPerson));\n    setPersonToShow(JSON.parse(JSON.stringify(persons.concat(newPerson))));\n    setNewName('');\n    setNewNumber('');\n  };\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const handleSearchValue = (event) => {\n    setSearchValue(event.target.value);\n    if (event.target.value) {\n      setPersonToShow(\n        persons.filter(\n          (person) =>\n            event.target.value.toLowerCase() === person.name.toLowerCase()\n        )\n      );\n    } else {\n      setPersonToShow(persons);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={searchValue} handleChange={handleSearchValue}></Filter>\n\n      <h2>add a new</h2>\n      <PersonForm\n        handleSubmit={onSubmit}\n        nameValue={newName}\n        numValue={newNumber}\n        nameChange={handleNameChange}\n        numChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons value={personToShow}></Persons>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}