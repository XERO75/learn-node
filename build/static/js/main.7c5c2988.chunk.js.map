{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","Filter","searchValue","handleChange","value","onChange","PersonForm","handleSubmit","nameValue","numValue","nameChange","numChange","onSubmit","type","Persons","map","person","name","number","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchValue","personToShow","setPersonToShow","useEffect","phoneService","res","catch","err","console","log","event","target","filter","toLowerCase","ev","preventDefault","newPerson","findIdx","find","item","concat","JSON","parse","stringify","ReactDOM","render","document","getElementById"],"mappings":"8KACMA,EAAU,eAiBD,EAfA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQ9B,EALA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,S,OCZvCK,EAAS,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aAC7B,OACE,8BACE,uDACqB,uBAAOC,MAAOF,EAAaG,SAAUF,UAM1DG,EAAa,SAAC,GAMb,IALLC,EAKI,EALJA,aACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,SACAC,EAEI,EAFJA,WACAC,EACI,EADJA,UAEA,OACE,8BACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOH,MAAOI,EAAWH,SAAUK,IACzC,uBAFF,WAGU,uBAAON,MAAOK,EAAUJ,SAAUM,OAE5C,8BACE,wBAAQE,KAAK,SAAb,yBAOJC,EAAU,SAAC,GAAe,IAAbV,EAAY,EAAZA,MACjB,OACE,8BACE,6BACGA,EAAMW,KAAI,SAACC,GACV,OACE,+BACGA,EAAOC,KADV,IACiBD,EAAOE,SADfF,EAAOjB,YA4FboB,EAlFH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETG,EAFS,KAEAC,EAFA,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAIsBN,mBAAS,IAJ/B,mBAITlB,EAJS,KAIIyB,EAJJ,OAKwBP,mBAASC,GALjC,mBAKTO,EALS,KAKKC,EALL,KAmBhBC,qBAZa,WACXC,IAEGrC,MAAK,SAACsC,GACLH,EAAgBG,GAChBV,EAAWU,MAEZC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAIF,IA2ChB,OACE,gCACE,2CACA,cAAC,EAAD,CAAQ9B,MAAOF,EAAaC,aAjBN,SAACkC,GACzBV,EAAeU,EAAMC,OAAOlC,OACxBiC,EAAMC,OAAOlC,MACfyB,EACER,EAAQkB,QACN,SAACvB,GAAD,OACEqB,EAAMC,OAAOlC,MAAMoC,gBAAkBxB,EAAOC,KAAKuB,kBAIvDX,EAAgBR,MAShB,2CACA,cAAC,EAAD,CACEd,aAhDW,SAACkC,GAChBA,EAAGC,iBACH,IAAMC,EAAY,CAChB1B,KAAMM,EACNL,OAAQO,GAENmB,EAAUvB,EAAQwB,MAAK,SAACC,GAAD,OAAUA,EAAK7B,OAASM,KAC/CqB,EACFb,EAAoBa,EAAQ7C,GAAI4C,GAAWjD,MAAK,SAACC,GAC/CwC,QAAQC,IAAIzC,OAIhBoC,EAAoBY,GAAWjD,MAAK,SAACC,GACnCwC,QAAQC,IAAIzC,MAEd2B,EAAWD,EAAQ0B,OAAOJ,IAC1Bd,EAAgBmB,KAAKC,MAAMD,KAAKE,UAAU7B,EAAQ0B,OAAOJ,MACzDnB,EAAW,IACXE,EAAa,MA8BTlB,UAAWe,EACXd,SAAUgB,EACVf,WA9BmB,SAAC2B,GACxBb,EAAWa,EAAMC,OAAOlC,QA8BpBO,UA5BqB,SAAC0B,GAC1BX,EAAaW,EAAMC,OAAOlC,UA8BxB,yCACA,cAAC,EAAD,CAASA,MAAOwB,Q,MC5HtBuB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.7c5c2988.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n//eslint-disable-next-line\nexport default { getAll, create, update };\n","import React, { useState, useEffect } from 'react';\nimport phoneService from './services/persons';\n\nconst Filter = ({ searchValue, handleChange }) => {\n  return (\n    <div>\n      <form>\n        filter shown with: <input value={searchValue} onChange={handleChange} />\n      </form>\n    </div>\n  );\n};\n\nconst PersonForm = ({\n  handleSubmit,\n  nameValue,\n  numValue,\n  nameChange,\n  numChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={nameValue} onChange={nameChange} />\n          <br></br>\n          number: <input value={numValue} onChange={numChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Persons = ({ value }) => {\n  return (\n    <div>\n      <ul>\n        {value.map((person) => {\n          return (\n            <li key={person.id}>\n              {person.name} {person.number}\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchValue, setSearchValue] = useState('');\n  const [personToShow, setPersonToShow] = useState(persons);\n\n  const hook = () => {\n    phoneService\n      .getAll()\n      .then((res) => {\n        setPersonToShow(res);\n        setPersons(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(hook, []);\n\n  const onSubmit = (ev) => {\n    ev.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    let findIdx = persons.find((item) => item.name === newName);\n    if (findIdx) {\n      phoneService.update(findIdx.id, newPerson).then((response) => {\n        console.log(response);\n      });\n      return;\n    }\n    phoneService.create(newPerson).then((response) => {\n      console.log(response);\n    });\n    setPersons(persons.concat(newPerson));\n    setPersonToShow(JSON.parse(JSON.stringify(persons.concat(newPerson))));\n    setNewName('');\n    setNewNumber('');\n  };\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const handleSearchValue = (event) => {\n    setSearchValue(event.target.value);\n    if (event.target.value) {\n      setPersonToShow(\n        persons.filter(\n          (person) =>\n            event.target.value.toLowerCase() === person.name.toLowerCase()\n        )\n      );\n    } else {\n      setPersonToShow(persons);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={searchValue} handleChange={handleSearchValue}></Filter>\n\n      <h2>add a new</h2>\n      <PersonForm\n        handleSubmit={onSubmit}\n        nameValue={newName}\n        numValue={newNumber}\n        nameChange={handleNameChange}\n        numChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons value={personToShow}></Persons>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}